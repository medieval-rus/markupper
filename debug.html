<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../dist/markupper.css">
</head>
<body>

    <div id="target"></div>
    <textarea id="result" style="width: 500px; height: 300px"></textarea>
    <script src="dist/markupper.js"></script>
    <script>

        const rawText = `
(покло)но [ѿ] дав[ꙑ](да и ѿ) еси‐
ѳа · къ матѳѣю · постои ·

за нашего сироту · мо‐
лви · дворѧнину · павлу · пе‐
трову брату дать · грамо‐
тѣ · не дасть · на него ·
`;
        const serializedText = `
{
  "pages": [
    {
      "lines": [
        {
          "pieces": [
            {
              "type": "word",
              "data": {
                "value": "(покло)но",
                "analyses": [
                  {
                    "lemma": "поклон",
                    "partOfSpeech": "сущ. м."
                  }
                ]
              }
            },
            {
              "type": "none",
              "data": {
                "value": "[ѿ]"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "дав[ꙑ](да",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "и",
                "analyses": []
              }
            },
            {
              "type": "none",
              "data": {
                "value": "ѿ)"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "еси‐",
                "analyses": []
              }
            }
          ]
        },
        {
          "pieces": [
            {
              "type": "word",
              "data": {
                "value": "ѳа",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "къ",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "матѳѣю",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "постои",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            }
          ]
        }
      ]
    },
    {
      "lines": [
        {
          "pieces": [
            {
              "type": "word",
              "data": {
                "value": "за",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "нашего",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "сироту",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "мо‐",
                "analyses": []
              }
            }
          ]
        },
        {
          "pieces": [
            {
              "type": "word",
              "data": {
                "value": "лви",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "дворѧнину",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "павлу",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "пе‐",
                "analyses": []
              }
            }
          ]
        },
        {
          "pieces": [
            {
              "type": "word",
              "data": {
                "value": "трову",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "брату",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "дать",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "грамо‐",
                "analyses": []
              }
            }
          ]
        },
        {
          "pieces": [
            {
              "type": "word",
              "data": {
                "value": "тѣ",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "не",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "дасть",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            },
            {
              "type": "word",
              "data": {
                "value": "на",
                "analyses": []
              }
            },
            {
              "type": "word",
              "data": {
                "value": "него",
                "analyses": []
              }
            },
            {
              "type": "punctuation",
              "data": {
                "value": "·"
              }
            }
          ]
        }
      ]
    }
  ]
}
`;
        const targetElement = document.getElementById('target');

        const resultElement = document.getElementById('result');

        const useRaw = false;

        const markupper = useRaw
            ? debugAccessPoint.Markupper.parse(rawText)
            : debugAccessPoint.Markupper.deserialize(serializedText);

        markupper.run(targetElement, text => {
            resultElement.value = text;
        });
    </script>
</body>
</html>